# 要件定義書 — みかわAI学校 公式サイト（完全版）

---

## 1. プロジェクト概要

* **プロジェクト名**：みかわAI学校 公式サイト制作
* **目的**：三河地域で「実務で使えるAI」を広げるためのLPと登録導線を構築し、少人数招集型ハンズオンと公開セミナー（運営主導）の優先登録・管理を行う。
* **運営**：合同会社ICHI.（学長：志水康太）
* **ホスティング**：Vercel（Next.js）
* **UI ライブラリ**：HeroUI（推奨）
* **データストレージ**：Google スプレッドシート（Apps Script 経由で書き込み）
* **初期リリース目標**：最小限の運用ができるLP＋フォーム＋スプシ連携＋自動返信（HTML）をローンチすること

---

## 2. 対象ユーザー

* プライマリ：経営者、会社員
* セカンダリ：主婦・主夫、求職中（無職）、学生、シニア／地域住民

---

## 3. 成果物（Deliverables）

1. Single-page LP `/`（Hero、利用例、参加の流れ、イベント、フォーム、FAQ、学長紹介、フッター）
2. 学長紹介ページ `/operate`
3. 登録フォーム（招集型 / 公開セミナー待機、マルチステップ） — フロント実装（React / HeroUI）
4. Google Apps Script（doPost） — JSON受け取り → スプシ書込、reCAPTCHA or token検証、メール送信（HTML & テキスト）
5. Google スプレッドシート（テンプレ） — 指定カラムで行管理
6. 自動返信メールテンプレ（HTML + テキスト）
7. 運用ドキュメント（スプレッドシート列説明、管理フロー、FAQ）
8. ワイヤーフレーム & デザインガイド（カラー・フォント・コンポーネント） — 既作成済み
9. QAレポート（受入テスト結果）

---

## 4. 主要機能（Functional Requirements）

* **表示機能**

  * LP（Hero、Usecases、Flow、Events、Form、FAQ、Footer）を正しく表示すること（レスポンシブ）
  * `/operate` 学長ページ表示
* **フォーム機能**

  * マルチステップ：Step1（必須最小） → Step2（条件項目） → 確認 → 送信
  * 属性による条件表示（role / application_type）
  * フロントでの即時バリデーション（name, email, participants_count 等）
  * reCAPTCHA（invisible）またはワンタイムトークン必須
  * 送信時に JSON を Apps Script URL に POST
* **データ受領**

  * Apps Script が必須チェック（name, email, application_type, role, consent）を行い、スプシへ appendRow で追加
  * レスポンスは JSON (`{status:"ok"}`/`{status:"error","message":"..."}`) を返す
* **自動返信**

  * 送信直後に HTML + テキスト両方の自動返信を実施（MailApp または別サービス）
* **管理通知**

  * Slack通知（新規登録）またはメール通知（管理者）を行う（Webhook 連携）
* **運用管理**

  * スプシ上で `status` を `new/reviewed/confirmed/waitlist` 等で変更できること
* **イベント連携（運用）**

  * 初期はイベント登録は手動（event_selected テキスト可）。将来的に Google Calendar 連携を追加可能。

---

## 5. 非機能要件（Non-functional）

* **セキュリティ**：フォーム送信に reCAPTCHA またはトークン検証。スプシ共有は管理者のみ。Apps Script の権限設定を適切に。
* **可用性**：Vercel 標準 HTTPS、ページロードは 2s 未満を目標。
* **性能**：画像は lazy-load、next/image を使用。
* **アクセシビリティ**：ラベル、alt、ARIA、キーボード操作に配慮。
* **保守性**：コンポーネント化（HeroUI）で容易な再利用。
* **運用SLA**：運営側が 3営業日以内に申込に対する初回返答をする旨をユーザー向けに明示。

---

## 6. 画面要件（主要UI）

* **Header**：ロゴ、ナビ、優先登録 CTA
* **NoticeBanner**：閉じられる上部バナー（Cookie/LocalStorageで非表示保持）
* **Hero**：H1・サブ・CTA ×2・信頼帯・ビジュアル
* **Usecases**：6カード（3列）
* **ParticipationFlow**：招集型 / 公開セミナーフローの図解（3ステップ）
* **Events**：イベントカード一覧 + Google Calendar 埋め込み（サイド）
* **RegisterForm**：ページ中盤で目立つ（白カード、角丸、影）
* **FAQ**：Accordion
* **Footer**：会社情報・ナビ・連絡先

---

## 7. データ仕様（フォーム → スプレッドシート）

**送信する JSON キー（フロント）**

```
{
  "name": string,               // 代表者名（必須）
  "email": string,              // メール（必須）
  "phone": string|null,         // 電話（任意）
  "application_type": string,   // 招集型 | 公開セミナー待機（必須）
  "role": string,               // 属性（必須）
  "participants_count": number|null,
  "venue_type": string|null,
  "event_selected": string|null,
  "preferred_area": string|null,
  "notes": string|null,
  "consent_privacy": boolean,   // true 必須
  "token": string,              // トークン or static（本番は動的）
  "recaptchaToken": string|null // optional
}
```

**スプレッドシート列（header order）**

```
timestamp,token,name,email,phone,application_type,role,participants_count,venue_type,event_selected,preferred_area,notes,consent_privacy,status,priority_flag,admin_notes
```

---

## 8. セキュリティ・検証

* フロント：reCAPTCHA（invisible）推奨。grecaptcha.execute でトークンを獲得し payload に含める。
* Apps Script：Google の reCAPTCHA 検証エンドポイントに POST → score/成功判定を確認する。トークン無効・検証失敗時はエラー返却。
* Apps Script は公開 Web App としてデプロイする場合、実行ユーザー・アクセス範囲を最小化する。可能なら API プロキシサーバを検討（別途）。
* スプシ共有設定：管理者のみ編集可能。閲覧は必要最小限に制限。

---

## 9. 運用フロー（管理者）

1. ユーザー送信 → Apps Script がスプシへ行追加 → Slack 通知
2. 管理者が `status=new` を `reviewed` に更新（3営業日以内）
3. 招集型承認時：`status=confirmed`、開催キットをメール送付（招待文テンプレ）
4. 公開セミナー：`status=waitlist` → 運営がイベント公開時 `status=confirmed` に更新して案内
5. 実施後：報告（report_link）をスプシに追加、`status=attended` へ更新

---

## 10. 受入基準（Acceptance）

* LP と `/operate` がレスポンシブに表示されること（主要ブラウザ）
* フォーム送信でスプシに正しく行追加されること（必須カラム）
* 自動返信が HTML かつテキストで送信されること（入力サマリが含まれる）
* reCAPTCHA / token 検証が機能すること（検証失敗で送信不可）
* 管理者に Slack またはメール通知が届くこと
* QA レポートに重大不具合 0 件

---

## 11. スコープ外（Not included）

* ロゴ作成（別途）
* 大規模DB（Postgres 等）導入（将来オプション）
* 決済機能の実装
* 広告運用（別途）

---

## 12. スケジュール（TBD）

* 要求：ユーザーが希望する納期を連絡後、詳細スケジュールと見積りを提示。

---

## 13. 納品物（最終）

* ソースコード（Git リポジトリ）
* Vercel デプロイ URL
* Apps Script コード（デプロイ済 or 配布用）
* Google スプレッドシート（テンプレ）
* 自動返信メールテンプレ（HTML / テキスト）
* 運用ドキュメント（この要件定義書含む）
* QA レポート

---

## 14. 付録：必ず含める「サイト内テキスト（コピー）」

**※ 本要件定義では以下のテキスト群を必須でサイトに含めるものとする（コピーは仕様書に全文を同梱）。**

* meta (title / description / OG)
* Hero（3案：A/B/C）
* Notice banner（例1/2/3）
* about（短・中長）
* mission（ミッション / ビジョン / コンセプト）
* principal（学長ページ：短・長）
* usecases（6カード）
* event_card テンプレ
* form_copy（ラベル・補助文・例示・エラーメッセージ・ボタン文言）
* auto_reply（件名・テキスト・HTML）
* invite_template（代表者向け招待文）
* kit_agenda / kit_materials（開催キット）
* followup_report（実施後報告）
* faq（8問）
* footer（会社情報 / プライバシー要約 / 特商法簡易文）
* admin_notifications（Slack / 管理者メール）
* sheet_headers.csv
* post_survey（アンケート文）

（これら本文は仕様書の付録に全文を含める）

---

# 仕様書 — 実装詳細（開発チーム向け完全版）

---

## A. 技術スタック（推奨）

* フロント：Next.js（React）
* UI：HeroUI + Tailwind CSS（推奨）
* ホスティング：Vercel
* バックエンド受信：Google Apps Script（Web App）
* データ保存：Google スプレッドシート（登録管理）
* 通知：Slack Webhook（管理者通知） / MailApp（Apps Script）で自動返信
* 解析：GA4（後日）
* reCAPTCHA：v3 / invisible（フロント + Apps Script 検証）

---

## B. API / データフロー

1. ユーザー フロントフォーム → JSON POST → `APPS_SCRIPT_URL`
2. Apps Script:

   * 入力検証（必須項目）
   * reCAPTCHA検証（Google API call）（存在する場合）
   * スプシ appendRow（header が未作成なら作成）
   * 自動返信（MailApp.sendEmail htmlBody）
   * Slack 通知（Webhook）
   * レスポンス：`200 {status:"ok"}` or `400 {status:"error",message:"..."}`

---

## C. Apps Script 要件（実装ポイント）

* **doPost(e)**: e.postData.contents を JSON.parse
* **検証処理**:

  * 必須チェック: name, email（正規表現）, application_type, role, consent_privacy
  * reCAPTCHA: `POST https://www.google.com/recaptcha/api/siteverify` with secret & token
* **スプシ処理**:

  * `SpreadsheetApp.openById(SPREADSHEET_ID)`
  * シート名 `registrations`（無ければ作る）
  * appendRow([...])（header 作成ロジックを含む）
* **自動返信**:

  * `MailApp.sendEmail({to: email, subject, htmlBody, body: textBody})`
* **エラーハンドリング**:

  * try/catch で ContentService JSON error を返す
  * 管理者メール送信 or Slack 通知でエラー内容を通知

---

## D. フロント（RegisterForm）実装要件

* コンポーネント: `RegisterForm`（ステートフル）
* ステップ:

  * Step1: name*, email*, application_type*, role*, consent_privacy*（*は必須）
  * Step2: 条件表示（招集型: participants_count* / venue_type / notes；公開待機: event_selected / preferred_area / notes）
  * 確認 → Submit
* バリデーション:

  * email は正規表現、participants_count は min=1、consent_privacy は true 必須
* UX:

  * progress bar 1/2、プレースホルダ例、補助文、インラインエラー、送信時スピナー
* セキュリティ:

  * reCAPTCHA トークン or hidden token を payload に含める
* 送信:

  * `fetch(APPS_SCRIPT_URL, {method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(payload)})`
  * ハンドリング: status ok → Success modal & redirect anchor #thanks、error → inline error

---

## E. スプレッドシート／管理仕様（カラムの説明）

* `timestamp` — 自動記録（new Date())
* `token` — 送信トークン
* `name` — 代表者名
* `email` — メール
* `phone` — 電話（任意）
* `application_type` — 招集型 | 公開セミナー待機
* `role` — 属性
* `participants_count` — 招集型時の予定人数
* `venue_type` — 会場予定（任意）
* `event_selected` — イベント名 / ID（任意）
* `preferred_area` — 参加希望エリア（任意）
* `notes` — 備考
* `consent_privacy` — true/false
* `status` — new / reviewed / confirmed / waitlist / attended
* `priority_flag` — 紹介 / high / normal
* `admin_notes` — 管理者メモ

---

## F. 自動返信（テンプレ）実装

* HTML + テキストを Apps Script の `MailApp.sendEmail({to,subject,htmlBody,body})` で送信
* HTML 版はシンプルなテーブル形式で入力サマリを挿入
* 件名：`みかわAI学校：登録ありがとうございます（受付完了）`
* 本文に「3営業日以内」の次アクション、問い合わせ先、入力サマリ（空欄は「未記入」表記）を必ず含める

---

## G. Slack 通知（管理者）仕様

* Webhook URL（Secrets 管理）
* 通知内容（簡易）：

  ```
  New registration: {name} | {email} | type: {application_type} | role: {role} | id: {row_number}
  ```
* エラー通知（Apps Script の catch）：

  ```
  件名: フォーム送信エラー
  内容: timestamp, error_message, payload (一部)
  ```

---

## H. UI テキスト（コピー全文） — **必ず実装側で全て貼ること**

（ここからは仕様書付録として**サイトに実装する全文テキスト**をそのまま掲載します。コピー＆ペーストで使ってください。）

---

### meta.txt

**title**

```
みかわAI学校 — 仕事にも暮らしにも効くAIを、地域から。
```

**description**

```
みかわAI学校（合同会社ICHI.運営）。経営者・会社員・地域のみんなが同じスタートで学べる実践AIスクール。少人数ハンズオンや公開セミナーの優先登録を受付中。実務で「すぐ使える」AIスキルを三河から。
```

**OG**

```
og:title: みかわAI学校 — 仕事にも暮らしにも効くAIを、地域から。
og:description: 経営者・会社員・地域のみなさんが同じスタートで学べる実践AIスクール。優先登録で少人数ハンズオンに参加可能。
og:image: /assets/og-image.png
```

---

### hero.txt（3案：選択して実装）

**A**

```
見出し：仕事にも暮らしにも効くAI
サブ：三河の現場で本当に役立つAIの使い方を学ぶ。経営者・会社員・地域のみんなが同じスタートで使える実践スクール。
CTA1（主）：優先登録する
CTA2（副）：次回イベントを見る
```

**B**

```
見出し：小さな一歩が、仕事を変える。暮らしを変える。
サブ：みかわAI学校は地域の“使えるAI”を増やす場。まずは優先登録して案内を受け取ってください。
CTA1：優先登録する
CTA2：学校について
```

**C**

```
見出し：今すぐ使えるAIを、みんなの手に。
サブ：少人数で手を動かすハンズオンと、運営主導の公開セミナー。まずは希望を教えてください。
CTA1：参加希望を出す
CTA2：イベント一覧へ
```

---

### banner.txt

**例1**

```
次回：少人数ハンズオン 11月15日（土） — 登録者優先で案内します。→ 詳細を見る
```

**例2**

```
無料AI診断を受付中 — 企業向けの現状診断で導入の第一歩を。→ 無料診断について
```

**例3**

```
【重要】11月のイベントは定員に近づいています。優先登録で先に案内を受け取ってください。→ 優先登録
```

---

### about.txt

**短文**

```
みかわAI学校は、三河地域から「実務で使えるAI」を広げる実践スクールです。経営者・会社員・主婦・シニア・子どもまで、誰でも同じスタートで学べる場を目指します。まずは優先登録で案内を受け取ってください。
```

**中長文**

```
みかわAI学校（運営：合同会社ICHI.）は、地域の現場に根ざした実践的なAI教育を提供します。私たちは「遊び」ではなく、仕事や暮らしに直結する“意味のある使い方”を重視。少人数でのハンズオンと、地域向けの公開セミナーを通じて、受講者がその場で成果物（使えるテンプレートやプロンプト）を持ち帰れることを目標にしています。
```

---

### mission.txt

**ミッション**

```
みかわAI学校は、誰もが等しくAIを学び、自分の価値を高められる地域の学び場を作ります。
```

**ビジョン**

```
地域のすべての人が“使えるAI”を手にし、仕事や暮らしで実利を生む。学びの入口を平等にし、地域のDXを底上げすることを目指します。
```

**コンセプト**

```
現場で、すぐ使える。小さなグループで手を動かす。三河発の実践AIスクール。
```

---

### principal.txt

**ページタイトル**

```
学長紹介 — 志水康太
```

**一行キャッチ**

```
地域の現場目線で“使えるAI”を届ける。
```

**プロフィール短**

```
志水康太（合同会社ICHI. 代表 / みかわAI学校 学長）
地域の中小企業や現場でのDX支援を多数手がけ、実務で役立つAI導入・仕組み作りに取り組んできました。みかわAI学校では、経営者から主婦・学生まで、誰でも同じスタートでAIを学べる場づくりを進めます。まずは手を動かして一つ“使える”スキルを持ち帰ることを重視しています。
```

**連絡**

```
講師・講演依頼：info@example.jp
```

**学長メッセージ（長）**

```
AIはもう特別なものではなく、仕事や暮らしを効率化する道具です。私たちは「遊び」で終わらせない、地域に根ざした実利を提供したいと考えています。年齢や職業に関わらず、等しく学べる場を作っていきます。ぜひ一緒に始めましょう。
```

---

### usecases.txt（6カード）

**業務効率化**

```
説明：日々の手作業をAIで自動化・短縮。
例：請求書の要約、メール定型文作成、日報の自動生成。
リンク：詳しく見る（業務効率化）
```

**営業・顧客対応**

```
説明：顧客対応の品質向上と営業資料作成の時間短縮。
例：問い合わせ要約、提案書テンプレ作成、顧客属性別応答例。
リンク：詳しく見る（営業支援）
```

**現場作業支援（製造）**

```
説明：現場の作業指示書や点検報告のデジタル化。
例：点検記録の要約・検索、作業手順書の自動生成。
リンク：詳しく見る（現場支援）
```

**暮らしの便利ツール**

```
説明：日常生活で使えるAI活用法。
例：家計管理テンプレ、学習支援、趣味の情報収集を効率化。
リンク：詳しく見る（暮らし）
```

**子ども向け体験**

```
説明：未来の学びにつながる楽しい導入ワークショップ。
例：AIで絵を作る・簡単なプログラム体験・問題解決ワーク。
リンク：詳しく見る（子ども向け）
```

**導入相談（企業向け）**

```
説明：現状把握から導入計画まで伴走支援。
例：無料AI診断→導入ロードマップ作成→試験導入支援。
リンク：無料診断を申し込む
```

---

### event_card.txt（テンプレ）

```
タイトル：{event_title}
日付：{YYYY/MM/DD}
時間：{HH:MM〜HH:MM}
場所：{会場名 or オンライン}
概要：{short_description (max 100文字)}
募集：定員 {capacity}名 / 参加費 {price or 無料}
CTA：このイベントに申し込む（リンク）
```

---

### form_copy.txt（フォーム文言）

**フォームタイトル**

```
参加希望フォーム（優先登録）
```

**Step1 ヘルプ**

```
まずは代表者名・連絡先と参加の種類だけでOK。詳細は次の画面で入力できます。
```

**ラジオ（参加の種類）**

```
招集型（代表が人数を集めて開催）
補助文：代表が3〜5名ほど集めて実施する少人数ハンズオン。運営は開催キット（招待文／進行表）を提供します。

公開セミナー参加希望（待機リスト）
補助文：運営が公開するセミナーが決まり次第、優先案内を受けたい方はこちら。特定イベントがあれば下で指定してください。
```

**属性（role）**

```
経営者 / 会社員 / 主婦・主夫 / 求職中・無職 / 学生 / その他
```

**プレースホルダ例**

```
代表者名：例）山田 太郎
メール：例）taro@example.jp
集められる予定人数：例）3
会場予定：例）自社（会議室）
参加希望イベント：例）みかわAI学校・基礎講座（11/15）
参加希望エリア：例）豊橋市
備考：例）平日午前が都合良いです
```

**必須／任意**

```
必須：代表者名 / メール / 参加の種類 / 属性 / プライバシー同意
招集型→participants_countは必須
```

**エラーメッセージ**

```
name: 「お名前を入力してください（例：山田 太郎）」
email: 「有効なメールアドレスを入力してください（例：taro@example.jp）」
role: 「属性を選択してください」
participants_count（招集型）: 「予定人数を1以上で入力してください（例：3）」
consent_privacy: 「プライバシーポリシーへの同意が必要です」
```

**ボタン文言**

```
次へ（詳細入力）／ 戻る ／ 送信して仮登録
```

**確認文**

```
「入力内容を確認してください。送信後、運営で確認し3営業日以内にご連絡します。」
```

**送信完了メッセージ**

```
送信ありがとうございました。運営で確認し、3営業日以内にご連絡します。info@example.jp へ問い合わせ可。
```

---

### auto_reply.txt（自動返信）

**件名**

```
みかわAI学校：登録ありがとうございます（受付完了）
```

**テキスト本文**

```
{name} 様

このたびは、みかわAI学校にご登録いただきありがとうございます。
以下の内容で申込みを受け付けました。運営で内容を確認の上、3営業日以内にご連絡いたします。

【申込内容（サマリ）】
- 代表者名： {name}
- メール： {email}
- 参加の種類： {application_type}
- 属性： {role}
- 集められる予定人数： {participants_count or "未記入"}
- 会場予定： {venue_type or "未記入"}
- 参加希望イベント： {event_selected or "未指定"}
- 参加希望エリア： {preferred_area or "未記入"}
- 備考： {notes or "未記入"}

※ 内容に誤りがある場合は、このメールに返信してください。
次の流れ：運営にて確認し、3営業日以内に「承認の可否」または「案内」をお送りします。

お問い合わせ： info@example.jp

みかわAI学校
合同会社ICHI.
```

**HTML版**
（仕様書にある HTML テンプレートをそのまま使用）

---

### invite_template.txt（代表者向け招待文）

**件名**

```
【招待】みかわAI学校 少人数ハンズオン（○月○日予定）へのご案内
```

**本文**

```
◯◯ 様

お世話になります。△△（代表者名）です。
このたび、みかわAI学校の協力を得て、下記の少人数ハンズオンを開催する予定です。
ご興味ある方はぜひご参加ください（定員制）。

--- 開催概要 ---
日時：調整中（◯月◯日を候補）
時間：90分（例：10:00〜11:30）
場所：○○（会場名）
内容：業務で使えるAIの導入基礎（テンプレ付き）
参加費：無料
定員：3〜5名

申込方法：参加希望の方はこのメールに返信、または下の申込フォームから代表者連絡先を送ってください。
（運営が承認後、正式な案内と資料をお送りします）

よろしくお願いします。
代表：△△（連絡先：090-xxxx-xxxx / email@example.jp）
```

---

### kit_agenda.txt（当日進行表）

```
00:00〜00:05 挨拶・趣旨説明（代表／学長）
00:05〜00:15 今日のゴール共有＋参加者自己紹介（名前・業務）
00:15〜00:45 ハンズオンパート1（基礎：プロンプトの作り方）
00:45〜00:55 休憩
00:55〜01:20 ハンズオンパート2（実務テンプレ適用：請求書 / 日報 等）
01:20〜01:30 質疑応答・次の一歩（無料AI診断の案内）
```

**配布資料テンプレ**

```
1. 今日の目的
2. 使ったテンプレ（プロンプト）一覧（コピー可能）
3. 実行手順（簡単な操作手順）
4. 参考リンク（note / 追加学習）
5. フォローアップ（無料AI診断の案内）
```

---

### followup_report.txt（実施後レポート）

```
件名：みかわAI学校 — 実施報告（○月○日 実施分）

概要：
- 代表者：△△
- 実施日：YYYY/MM/DD
- 参加人数：N名
- 主なテーマ：○○
- 実施概要（3行）：...

参加者の反応（短）：
- ポイント1
- ポイント2

次のアクション（運営宛）：
- レポート有無（添付）：
- 続きの支援希望（有/無）：

（配布資料リンク）
```

---

### faq.txt（8問）

```
Q1：招集型とは何ですか？
A1：代表者が人数（3〜5名）を集めて実施する少人数ハンズオンです。運営は開催キット（招待文／進行表／配布資料）を提供します。

Q2：公開セミナーへの参加はどうすれば良いですか？
A2：イベント一覧ページから該当イベントに直接申し込むか、当サイトの「公開セミナー待機」フォームで優先案内を受け取ってください。

Q3：参加費はかかりますか？
A3：基本的に無料のイベントが中心です。特別プログラムは有料のことがあります（イベント詳細参照）。

Q4：子どもも参加できますか？
A4：子ども向けワークショップを別途開催します。保護者同伴が必要な回もありますのでイベント詳細をご確認ください。

Q5：録画や資料は配布されますか？
A5：原則として配布しますが、録画・公開は参加者の同意を得て行います。

Q6：紹介者がいると優先になりますか？
A6：紹介者がいると優先案内の対象になります（確認措置を行う場合があります）。

Q7：フォームに記入した情報はどのように扱われますか？
A7：フォーム情報は当校の管理用スプレッドシートに保管し、イベント運営・連絡以外の目的では使用しません。プライバシーポリシーに従います。

Q8：問い合わせ先は？
A8：info@example.jp にご連絡ください。
```

---

### footer.txt（会社情報 / 簡易プライバシー / 特商法）

**会社情報**

```
運営：合同会社ICHI.
所在地：〒000-0000 愛知県〇〇市〇〇町1-2-3
代表：志水康太
お問い合わせ：info@example.jp
```

**簡易プライバシー**

```
個人情報は本サービスの運営に必要な範囲で利用し、第三者提供は行いません。詳細はプライバシーポリシーをご確認ください。
```

**特商法（簡易）**

```
販売事業者：合同会社ICHI.
所在地：上記
代表：志水康太
連絡先：info@example.jp
※ 有料サービス提供時は別途特定商取引法に基づく表記を掲載します。
```

---

### admin_notifications.txt

**Slack通知（新規登録）**

```
New registration: {name} | {email} | type: {application_type} | role: {role} | introducer: {introducer or "-"} | id: {row_number}
```

**管理者メール（送信エラー）**

```
件名：みかわAI学校 — フォーム送信エラー発生
本文：Apps Script でエラーが発生しました。
日時：{timestamp}
内容：{error_message}
Payload: {payload}
対応：ログ確認・再試行をお願いします。
```

---

### sheet_headers.csv

```
timestamp,token,name,email,phone,application_type,role,participants_count,venue_type,event_selected,preferred_area,notes,consent_privacy,status,priority_flag,admin_notes
```

---

### post_survey.txt（実施後アンケート）

```
ご参加ありがとうございました！簡単なアンケートにご協力ください（所要1-2分）。
1) 本日の満足度（5段階）
2) 役に立った内容
3) 改善してほしい点
4) 今後受けたいテーマ（自由記入）
```

---

（付録ここまで。上記のコピーは全てサイト内の該当箇所に実装すること。変更時は必ず運営の最終承認を得ること。）

---

## I. テストケース（受け入れテスト）

* 表示：Desktop / Mobile で主要ページが表示されること
* フォーム：Step1→Step2→Submit の通しテスト（各属性と条件パターン）
* reCAPTCHA：有効時は token 検証失敗時に送信エラーになること
* スプシ：各カラムに正しい値が入ること
* 自動返信：HTML とテキストの双方が届くこと（主要メールクライアントで表示確認）
* Slack通知：登録時とエラー時に通知が届くこと

---

## J. 保守・運用（推奨事項）

* Apps Script のログ監視（エラー検出で管理者アラート）
* スプシの定期バックアップ（自動スクリプト）
* プライバシーポリシー・特商法の公開と定期的な法務チェック
* 登録数増加時の DB 移行（Supabase / Firestore）検討

---

### 完了確認

上記要件定義書・仕様書は「実装に必要なテキスト（コピー）」を完全に含んでいます。追加で**PDF出力**、**Git用テキストファイル（zip）作成**、**Apps Script 完全コード（reCAPTCHA 検証付き）**、**HeroUI 用コンポーネント実装**などが必要であれば、どれを優先するかを指示してください。すぐに生成します。
